export const Gradients = {
    HeatMap: [
        [0, 0, 1],
        [0, 1, 0],
        [1, 1, 0],
        [1, 0, 0],
    ],

    // http://soliton.vm.bytemark.co.uk/pub/cpt-city/tp/tn/tpglarm.png.index.html
    AridLand: [
        [0.5686, 0.5373, 0.5059],
        [0.6471, 0.6157, 0.5725],
        [0.6980, 0.6588, 0.6118],
        [0.7882, 0.7412, 0.6745],
        [0.8353, 0.7882, 0.7020],
        [0.8314, 0.7216, 0.6431],
        [0.8314, 0.7569, 0.7137],
        [0.8353, 0.8196, 0.8118],
        [0.8706, 0.8706, 0.8706],
        [0.9333, 0.9333, 0.9333],
        [0.9608, 0.9608, 0.9608],
    ],

    // http://soliton.vm.bytemark.co.uk/pub/cpt-city/tp/tn/tpglhwm.png.index.html
    HumidWarmLand: [
        [0.4118, 0.5961, 0.5216],
        [0.4627, 0.6627, 0.5725],
        [0.5137, 0.7098, 0.6078],
        [0.6471, 0.7529, 0.6549],
        [0.8275, 0.7882, 0.7020],
        [0.8314, 0.7216, 0.6431],
        [0.8314, 0.7529, 0.7098],
        [0.8392, 0.8196, 0.8078],
        [0.8706, 0.8667, 0.8706],
        [0.9333, 0.9333, 0.9333],
        [0.9647, 0.9686, 0.9647],
    ],

    // http://soliton.vm.bytemark.co.uk/pub/cpt-city/tp/tn/tpglhcm.png.index.html
    HumidColdLand: [
        [0.4314, 0.5686, 0.5412],
        [0.4980, 0.6353, 0.6157],
        [0.5647, 0.6824, 0.6588],
        [0.6980, 0.7451, 0.6980],
        [0.8275, 0.7882, 0.7020],
        [0.8314, 0.7216, 0.6431],
        [0.8353, 0.7529, 0.7098],
        [0.8392, 0.8196, 0.8078],
        [0.8706, 0.8706, 0.8706],
        [0.9333, 0.9333, 0.9333],
        [0.9608, 0.9647, 0.9608],
    ],

    // http://soliton.vm.bytemark.co.uk/pub/cpt-city/gmt/tn/GMT_abyss.png.index.html
    Water: [
        [0.0000, 0.0000, 0.0000],
        [0.0784, 0.1176, 0.2078],
        [0.1490, 0.2353, 0.4157],
        [0.1804, 0.3137, 0.5216],
        [0.2078, 0.3882, 0.6275],
        [0.2824, 0.5922, 0.8275],
        [0.3529, 0.7255, 0.9137],
        [0.5529, 0.8235, 0.9373],
        [0.9608, 1.0000, 1.0000],
    ],

    // http://soliton.vm.bytemark.co.uk/pub/cpt-city/tp/tn/tpglpom.png.index.html
    Ice: [
        [0.5412, 0.6118, 0.7020],
        [0.6353, 0.6941, 0.7922],
        [0.6784, 0.7451, 0.8353],
        [0.7216, 0.7843, 0.8745],
        [0.7922, 0.8431, 0.9098],
        [0.8588, 0.8980, 0.9412],
        [0.9373, 0.9490, 0.9882],
        [0.9569, 0.9725, 0.9961],
    ],

    // http://soliton.vm.bytemark.co.uk/pub/cpt-city/wkp/precip/tn/wiki-precip-mm.png.index.html
    Precipitation: [
        [1.0000, 1.0000, 1.0000],
        [0.7490, 0.9647, 0.7529],
        [0.5961, 0.9451, 0.5961],
        [0.4431, 0.9216, 0.4431],
        [0.2863, 0.8980, 0.2902],
        [0.1020, 0.8784, 0.1216],
        [0.0157, 0.8314, 0.4588],
        [0.0275, 0.7843, 0.8118],
        [0.0314, 0.7529, 0.7922],
        [0.0039, 0.7216, 0.7804],
        [0.0118, 0.6941, 0.7686],
        [0.0392, 0.6627, 0.7569],
        [0.0196, 0.6314, 0.7412],
        [0.0118, 0.6000, 0.7294],
        [0.0275, 0.5725, 0.7216],
        [0.0000, 0.5373, 0.7098],
        [0.0078, 0.5098, 0.6980],
        [0.0078, 0.4784, 0.6863],
        [0.0314, 0.4431, 0.6706],
        [0.0157, 0.4118, 0.6627],
        [0.0039, 0.3843, 0.6549],
        [0.0000, 0.3529, 0.6392],
        [0.0000, 0.3216, 0.6275],
        [0.0000, 0.2902, 0.6157],
        [0.0000, 0.2588, 0.6039],
        [0.0039, 0.2275, 0.5882],
        [0.0039, 0.1961, 0.5804],
        [0.0078, 0.1647, 0.5686],
        [0.0196, 0.1333, 0.5569],
        [0.0039, 0.1059, 0.5451],
        [0.0157, 0.0667, 0.5255],
        [0.0392, 0.0353, 0.5098],
        [0.0157, 0.0157, 0.5137],
        [0.0000, 0.0000, 0.5098],
        [0.0000, 0.0000, 0.5098],
        [0.0000, 0.0000, 0.5098],
    ],
};

// returns value as rgb indexes scaled by an array of rgb values representing a colour gradient
function inGradient(index, gradient) {
    const i = index * (gradient.length - 1);
    const a = Math.floor(i);
    const b = Math.min(a + 1, gradient.length - 1);
    const d = i - a;

    return [
        ((gradient[b][0] - gradient[a][0]) * d) + gradient[a][0], // r
        ((gradient[b][1] - gradient[a][1]) * d) + gradient[a][1], // g
        ((gradient[b][2] - gradient[a][2]) * d) + gradient[a][2], // b
    ];
}

// returns value as interpolated rgb in gradient
export function rgbInGradient(value, gradient) {
    return inGradient(value, gradient).map((i) => i * 255);
}

// returns colour1 mixed with colour2 at index
export function mix(index, colour1, colour2) {
    const scaled1 = colour1.map((c) => c * (1 - index));
    const scaled2 = colour2.map((c) => c * index);

    return scaled1.map((c, i) => (c + scaled2[i]));
}

// returns mix of value in two gradients at index
export function rgbBetweenGradients(value, index, gradient1, gradient2) {
    return mix(index, rgbInGradient(value, gradient1), rgbInGradient(value, gradient2));
}
